DocumentUpdate:
  put:
    summary: "Updates a document content."
    tags:
      - document
    parameters:
      - name: body
        in: "body"
        description: "Updates a document content."
        required: true
        schema:
          $ref: "#/components/schemas/UpdateRequest"
    responses:
      200:
        description: "Updates a document content."
        schema:
          $ref: "#/components/schemas/UpdateResponse"

components:
  schemas:
    UpdateRequest:
      allOf:
        - $ref: "./definitions.yaml#/definitions/BasicRequest"
        - type: "object"
          properties:
            _id:
              type: "string"
              description: "documentId"
            refresh:
              type: "string"
              description: " if set to wait_for, Kuzzle will not respond until the created/replaced document is indexed"
            body:
              type: "string"
            retryOnConflict:
              type: "string"
              description: "conflicts may occur if the same document gets updated multiple times within a short timespan, in a database cluster. You can set the retryOnConflict optional argument (with a retry count), to tell Kuzzle to retry the failing updates the specified amount of times before rejecting the request with an error."
    UpdateResponse:
      allOf:
        - $ref: "./definitions.yaml#/definitions/BasicResponse"
        - type: "object"
          properties:
            result:
              type: "object"
              properties:
                _id:
                  type: "string"
                  description: "documentId"
                _version:
                  type: "integer"